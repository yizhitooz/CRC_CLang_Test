#include <stdio.h>
#include "ovt_def/ovt_type.h"
#include "crc_func.h"
#include "check_sum_func.h"

#define _CRC_TEST 1
#if _CRC_TEST
#define _CHECK_SUM_TEST 0
#define _CRC_16_TEST 0
#if _CRC_16_TEST
#define _CRC_32_TEST 0
#else
#define _CRC_32_TEST 1
#endif
#else
#define _CHECK_SUM_TEST 1
#endif

int main()
{
#if _CRC_TEST
    uint8 data_array_crc[] = {
        0x00, 0x05,
        0x00, 0xB3, 0x00, 0x5F, 0x01, 0x28, 0x03,
        0x01, 0x7D, 0x01, 0xC8, 0x00, 0x11, 0x03,
        0x02, 0x0A, 0x02, 0xC4, 0x04, 0x0C, 0x03,
        0x03, 0xB3, 0x00, 0x2A, 0x05, 0x2C, 0x03,
        0x04, 0x94, 0x00, 0x10, 0x02, 0x15, 0x03,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
        // 542F
    };
#if _CRC_16_TEST
    uint16 crc_value = _chipone_crc(data_array_crc, (2 + 6 * 10));
    printf("the crc value is 0x%04X\n", crc_value);
#endif
#if _CRC_32_TEST
    uint16 crc32_value = (uint16)_custom_crc32(&data_array_crc[0], sizeof(data_array_crc));
    printf("the crc32 value is 0x%08X\n", crc32_value);
#endif
#endif

#if _CHECK_SUM_TEST
    uint8 data_array_sum[] = {
        0x5A,
        0x00, 0x16, 0x87, 0x3E,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0x07
        // 0xE8
    };

    uint16 check_sum_value = _get_checksum(data_array_sum, sizeof(data_array_sum));
    printf("the checksum value is 0x%04X\n", check_sum_value);
#endif

    return 0;
}