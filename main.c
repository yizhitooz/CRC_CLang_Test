#include <stdio.h>
#include "ovt_def/ovt_type.h"
#include "macros.h"

#include "crc_func.h"
#include "check_sum_func.h"

int main()
{
#if _CRC_TEST
    uint8 data_array_crc[] = {
        0x01, 0x01, 0x01,
        0x01, 0x01, 0x01, 0x01, 0x90, 0x01,
        0x82, 0x39, 0x04, 0x91, 0x2D, 0x51,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
        0x00, 0x00, 0x00, 0x00
        //, 0x8D, 0xBB
    };
#if _CRC_16_TEST
    // uint16 crc_value = _chipone_crc(data_array_crc, (2 + 6 * 10));
    for (size_t i = 0; i < 23; i++)
    {
        uint16 crc_value = _focal_crc(data_array_crc, sizeof(data_array_crc) - i);
        printf("%d:\n",i);
        printf("the crc value is 0x%04X\n", crc_value);
    }
#endif
#if _CRC_32_TEST
    uint32 crc32_value = _custom_crc32(&data_array_crc[0], sizeof(data_array_crc));
    printf("the crc32 value is 0x%08X\n", crc32_value);
#endif
#endif

#if _CHECK_SUM_TEST
    uint8 data_array_sum[] = {
        0x5A,
        0x00, 0x16, 0x87, 0x3E,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0xFF, 0xFF, 0xFF, 0xFF,
        0x07
        // 0xE8
    };

    uint16 check_sum_value = _get_checksum(data_array_sum, sizeof(data_array_sum));
    printf("the checksum value is 0x%04X\n", check_sum_value);
#endif

    return 0;
}